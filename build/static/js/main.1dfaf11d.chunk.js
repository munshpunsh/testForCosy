(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{71:function(e,t,a){e.exports=a(91)},80:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(8),s=a.n(r),c=a(24),o=a(31);var l=function(){var e=localStorage.getItem("events");return e?e=JSON.parse(e):(e={events:[{id:Math.random(),name:"Event 1",time:1564309043653,participants:["participant 1","participant 2"],description:"description of Event 1"},{id:Math.random(),name:"Event 1",time:156429654e4,participants:[],description:"description of Event 1"}],viewedEvents:[],dayForView:void 0},localStorage.setItem("events",JSON.stringify(e))),e}();var p=Object(c.c)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_EVENT":var a=Object(o.a)({},e);a.events.push(t.payload);var n=new Date(t.payload.time);return e.dayForView===n.getDate()&&a.viewedEvents.push(t.payload),localStorage.setItem("events",JSON.stringify(a)),a;case"SHOW_DETAILED":var i=Object(o.a)({},e,{viewedEvents:t.payload.events,dayForView:t.payload.day});return localStorage.setItem("events",JSON.stringify(i)),i;case"DELETE_EVET":var r=Object(o.a)({},e,{viewedEvents:e.viewedEvents.filter(function(e){if(e.id!==t.payload)return!0}),events:e.events.filter(function(e){if(e.id!==t.payload)return!0})});return localStorage.setItem("events",JSON.stringify(r)),r;case"EDIT_EVENT":var s=e.viewedEvents.map(function(e){return e.id===t.payload.id?t.payload:e}),c=e.viewedEvents.map(function(e){return e.id===t.payload.id?t.payload:e}),p=Object(o.a)({},e,{viewedEvents:s,events:c});return localStorage.setItem("events",JSON.stringify(p)),p;default:return e}}}),d=a(61),u=a.n(d),m=a(62),v=Object(c.d)(p,Object(c.a)(m.a,u.a)),h=a(40),E=a(16),f=a(12),g=a(18),y=a(17),b=a(19),O=a(128),w=a(123),j=a(125),C=a(129);var S=a(121),k=(a(80),function(e){function t(){return Object(E.a)(this,t),Object(g.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(f.a)(t,[{key:"shouldComponentUpdate",value:function(e,t,a){return e.day!==this.props.day||JSON.stringify(e.events)!==JSON.stringify(this.props.events)}},{key:"render",value:function(){var e=this.props,t=e.events,a=e.showEvents,n=e.day;return i.a.createElement("div",{className:"one_day",onClick:function(){a({events:t,day:n})}},i.a.createElement("div",{className:"one_day_content"},i.a.createElement(S.a,{badgeContent:this.props.eventsNumber,color:"secondary"},i.a.createElement("span",{className:"one_day_content_day"}," ",this.props.day))))}}]),t}(n.Component)),D=(a(82),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).renderDays=function(e,t,n,r){for(var s=[],c=function(e){var c=new Date(n,r,e),o=t.filter(function(e){var t=new Date(e.time);return t.getDate()===c.getDate()&&t.getMonth()===c.getMonth()}),l=i.a.createElement(k,{events:o,showEvents:a.props.showEvents,eventsNumber:o.length,key:e,day:e});s.push(l)},o=1;o<=e;o++)c(o);return s},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.year,a=e.month,n=function(e,t){return 32-new Date(e,t,32).getDate()}(t,a),r=this.props.events;return i.a.createElement("div",{className:"container_for_months"},this.renderDays(n,r,t,a))}}]),t}(n.Component)),N=(a(83),a(84),a(131)),_=a(132),T=a(127),x=a(67),I=a.n(x),J=a(66),V=a.n(J),M=a(33),A=a(126),F=(a(85),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(i)))).state={participants:a.props.participants?a.props.participants:[],name:a.props.name?a.props.name:"",description:a.props.description?a.props.description:"",datetime:a.props.time?a.props.time:"2019-07-28T10:49"},a.handleClick=function(){var e=a.state.participants;e.push(a.refs.participant.querySelector("input").value),a.setState({participants:e}),a.refs.participant.querySelector("input").value="",a.forceUpdate()},a.handleChange=function(e){var t=e.target.value,n=e.target.id;a.setState(Object(M.a)({},n,t))},a.handleSubmit=function(e){e.preventDefault();var t=a.props,n=t.addEvent,i=t.editEvent,r=t.editClick,s=new Date(a.state.datetime),c={id:a.props.id?a.props.id:Math.random(),name:a.state.name,time:s.getTime(),participants:a.state.participants,description:a.state.description};a.props.edit?(i(c),r()):n(c),e.target.name.value="",e.target.description.value="",a.setState({participants:[]})},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"deleteParticipant",value:function(e){var t=this.state.participants;t.splice(e,1),this.setState({participants:t})}},{key:"shouldComponentUpdate",value:function(e,t,a){return JSON.stringify(e)!==JSON.stringify(this.props)||JSON.stringify(t)!==JSON.stringify(this.state)}},{key:"render",value:function(){var e=this;return i.a.createElement("form",{onSubmit:this.handleSubmit,className:"form_for_add"},i.a.createElement(w.a,{container:!0,spacing:2},i.a.createElement(w.a,{item:!0,lg:this.props.edit?12:4},i.a.createElement(C.a,{id:"datetime",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0430\u0442\u0443",type:"datetime-local",defaultValue:this.props.time?this.props.time:"2019-07-28T10:49",onChange:this.handleChange,required:!0})),i.a.createElement(w.a,{item:!0,lg:this.props.edit?12:4},i.a.createElement(C.a,{id:"name",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"text",defaultValue:this.props.name?this.props.name:"",onChange:this.handleChange,required:!0})),i.a.createElement(w.a,{item:!0,lg:this.props.edit?12:4},i.a.createElement(C.a,{id:"description",label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",type:"text",defaultValue:this.props.description?this.props.description:"",onChange:this.handleChange,required:!0})),i.a.createElement(w.a,{item:!0,container:!0,lg:12},i.a.createElement(w.a,{container:!0,spacing:2,alignItems:"flex-end"},i.a.createElement(w.a,{item:!0,lg:12},this.state.participants.map(function(t,a){return i.a.createElement(w.a,{key:a,direction:"row",alignItems:"center",container:!0,item:!0,lg:12},i.a.createElement(j.a,null,"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a ",a+1,":"),i.a.createElement(j.a,null,"\xa0",t),i.a.createElement(A.a,{style:{marginLeft:"15px"},onClick:function(){e.deleteParticipant(a)},type:"button",variant:"contained"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))})),i.a.createElement(w.a,{item:!0},i.a.createElement(C.a,{id:"participant",label:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",type:"text",defaultValue:"",ref:"participant"})),i.a.createElement(w.a,{item:!0},i.a.createElement(A.a,{onClick:this.handleClick,type:"button",variant:"contained"},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))),i.a.createElement(w.a,{item:!0,lg:4},i.a.createElement(A.a,{type:"submit",variant:"contained"},this.props.edit?"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0435"))))}}]),t}(n.Component)),q=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(i)))).state={edit:!1},a.handleChange=function(e){a.props.handleChange(e)},a.deleteClick=function(e){(0,a.props.deleteEvent)(e)},a.editClick=function(){a.setState({edit:!a.state.edit})},a.timeForEdit=function(e){var t=new Date(e);return"".concat(t.getFullYear(),"-").concat(t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1,"-").concat(t.getDate()<10?"0"+t.getDate():t.getDate(),"T").concat(t.getHours()<10?"0"+t.getHours():t.getHours(),":").concat(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.item,n=t.index;return i.a.createElement(N.a,{key:n,expanded:this.props.expanded==="panel".concat(n+1),onChange:function(){e.handleChange("panel".concat(n+1))}},i.a.createElement(_.a,{"aria-controls":"panel1a-content",id:"panel1a-header"},i.a.createElement(j.a,null,a.name),i.a.createElement(j.a,null,i.a.createElement(V.a,{onClick:this.editClick}),i.a.createElement(I.a,{onClick:function(){e.deleteClick(a.id)}}))),i.a.createElement(T.a,{className:"details"},!this.state.edit&&i.a.createElement(i.a.Fragment,null,i.a.createElement(j.a,null,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435: ",a.description),i.a.createElement("br",null),i.a.createElement(j.a,null,"\u0412\u0440\u0435\u043c\u044f \u043f\u0440\u043e\u0432\u0435\u0434\u0435\u043d\u0438\u044f: ",String(new Date(a.time))),i.a.createElement("br",null),i.a.createElement(j.a,null,"\u0423\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0438: ",a.participants.map(function(e,t){return"".concat(e).concat(a.participants.length-1===t?"":",")}))),this.state.edit&&i.a.createElement(F,{editClick:this.editClick,editEvent:this.props.editEvent,id:a.id,description:a.description,time:this.timeForEdit(a.time),name:a.name,participants:a.participants,edit:this.state.edit})))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={expanded:"panel1"},a.renderEvents=function(e){return e.map(function(e,t){return i.a.createElement(q,{deleteEvent:a.props.deleteEvent,editEvent:a.props.editEvent,key:t,expanded:a.state.expanded,handleChange:a.handleChange,item:e,index:t})})},a.handleChange=function(e){a.setState({expanded:e})},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.viewedEvents;return i.a.createElement("div",{className:"container_for_months"},this.renderEvents(e))}}]),t}(n.Component);var L=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(g.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(i)))).state={year:2019,month:6},a.handleChange=function(e){a.setState({year:Number(e.target.value.split("-")[0]),month:Number(e.target.value.split("-")[1])-1})},a}return Object(b.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.state,t=e.year,a=e.month;return i.a.createElement(O.a,{maxWidth:"lg"},i.a.createElement(w.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:1},i.a.createElement(w.a,{item:!0,lg:12},i.a.createElement(j.a,{variant:"h5",align:"center",className:"Title"},"\u041a\u0430\u043b\u0435\u043d\u0434\u0430\u0440\u044c \u0441\u043e\u0431\u044b\u0442\u0438\u0439"),i.a.createElement(j.a,{variant:"h5",align:"center",className:"Title"},i.a.createElement(C.a,{onChange:this.handleChange,id:"date",label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043c\u0435\u0441\u044f\u0446",type:"date",defaultValue:"2019-07-28"}))),i.a.createElement(w.a,{item:!0,lg:this.props.events.viewedEvents.length>0?6:12},i.a.createElement(D,{year:t,month:a,events:this.props.events.events,showEvents:this.props.showEvents})),this.props.events.viewedEvents.length>0&&i.a.createElement(w.a,{item:!0,lg:6},i.a.createElement(H,{editEvent:this.props.editEvent,deleteEvent:this.props.deleteEvent,viewedEvents:this.props.events.viewedEvents})),i.a.createElement(w.a,{item:!0,lg:8},i.a.createElement(F,{addEvent:this.props.addEvent}))))}}]),t}(n.Component),U=Object(h.b)(function(e){return{events:e.events}},function(e){return{addEvent:function(t){return e(function(){return{type:"ADD_EVENT",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}}(t))},deleteEvent:function(t){return e({type:"DELETE_EVET",payload:t})},editEvent:function(t){return e({type:"EDIT_EVENT",payload:t})},showEvents:function(t){return e(function(){return{type:"SHOW_DETAILED",payload:arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}}(t))}}})(L);a(89),a(90);s.a.render(i.a.createElement(h.a,{store:v},i.a.createElement(U,null)),document.getElementById("root"))}},[[71,1,2]]]);
//# sourceMappingURL=main.1dfaf11d.chunk.js.map